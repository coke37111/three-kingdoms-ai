# 07. UI 컴포넌트

## 스타일 규칙

- **인라인 스타일만 사용**: `style={{}}` 객체, CSS 모듈 사용 금지
- **CSS 변수**: `globals.css`의 `:root`에 정의, `var(--변수명)`으로 참조
- **폰트**: Noto Sans KR (본문), Noto Serif KR (타이틀)
- **테마**: 다크 배경 + 금색 악센트

### CSS 변수

| 변수 | 값 | 용도 |
|------|------|------|
| `--bg-primary` | `#0a0a12` | 기본 배경 |
| `--bg-secondary` | `#111122` | 보조 배경 |
| `--bg-card` | `#161630` | 카드 배경 |
| `--accent` | `#d4443e` | 강조 (빨강) |
| `--gold` | `#c9a84c` | 금색 악센트 |
| `--gold-dim` | `rgba(201,168,76,0.2)` | 금색 반투명 |
| `--text-primary` | `#e8e4d9` | 기본 텍스트 |
| `--text-secondary` | `#8a8678` | 보조 텍스트 |
| `--text-dim` | `#555049` | 흐린 텍스트 |
| `--border` | `rgba(201,168,76,0.15)` | 테두리 |
| `--success` | `#4a8c5c` | 성공 (녹색) |
| `--warning` | `#c9a84c` | 경고 (금색) |
| `--danger` | `#d4443e` | 위험 (빨강) |

### 애니메이션

| 이름 | 용도 |
|------|------|
| `fadeInUp` | 요소 등장 (위로 슬라이드) |
| `blink` | 커서 깜빡임 |
| `pulse` | 로딩 펄스 |
| `slideIn` | 좌측 슬라이드 인 |
| `deltaFloat` | 자원 변동 숫자 상승 후 소멸 |

---

## 컴포넌트 구조

### GameContainer.tsx — 메인 오케스트레이터

게임 전체의 상태 관리와 이벤트 처리를 담당하는 최상위 컴포넌트.

**관리하는 상태:**
- WorldState (세력, 외교)
- ChatHistory (메시지, 대화 히스토리)
- Auth (인증)
- Preferences (LLM 제공자)
- UI 상태 (로딩, 게임 시작 여부, 선택지, 모달)

**렌더 구조:**
```
GameContainer
├── TitleScreen (gameStarted === false)
└── 게임 화면 (gameStarted === true)
    ├── StatusBar
    ├── 채팅 영역
    │   ├── ChatBubble[] (메시지 목록)
    │   └── 스트리밍 텍스트
    ├── ChoicePanel (선택지)
    ├── 입력 바 (텍스트 + 음성 + 다음턴)
    ├── LLM 토글 + 토큰 표시
    ├── WorldStatus (모달)
    ├── DiplomacyPanel (모달)
    ├── TaskPanel (모달)
    ├── BattleReport (모달)
    └── GameEndScreen (모달)
```

---

### TitleScreen.tsx — 타이틀 화면

금색 그라데이션 배경의 시작 화면.

| 상태 | 표시 |
|------|------|
| 미로그인 | "Google로 시작하기" 버튼 |
| 로그인 + autosave 있음 | "이어하기" (메인) + "새로 시작하기" |
| 로그인 + autosave 없음 | "출사표를 올리다" (새 게임) |

---

### StatusBar.tsx — 자원 표시

상단 바에 현재 세력의 자원, 턴/월/계절 정보 표시.

- 금, 식량, 병력, 민심 아이콘 + 숫자
- 자원 변동 시 `deltaFloat` 애니메이션 (+ 녹색, - 빨강)
- 천하정세, 외교, 이벤트 버튼

---

### ChatBubble.tsx — 채팅 말풍선

역할별 스타일이 다른 말풍선.

| 역할 | 스타일 |
|------|--------|
| assistant | 좌측, 어두운 배경, 감정 아이콘 |
| user | 우측, 금색 배경 |
| system | 중앙, 금색 테두리, 시스템 알림 |

숫자 컬러링: 긍정(+, 증가) 녹색, 부정(-, 감소) 빨강.

---

### ChoicePanel.tsx — 선택지 패널

AI가 제공한 선택지를 버튼으로 표시.

- 각 선택지: 번호(1,2,3) + 텍스트 + 위험도 표시
- 위험도: 상/중/하 색상 코딩
- 예상 결과(preview) 표시
- fadeInUp 애니메이션으로 순차 등장

---

### WorldStatus.tsx — 천하 정세 모달

전체 세력 정보를 한눈에 보여주는 전체화면 모달.

- 4개 세력별: 자원, 도시 목록, 장수 목록
- 외교 관계 매트릭스
- 도시 상세 정보 (인구, 수비병, 상업, 농업, 방어)

---

### DiplomacyPanel.tsx — 외교 패널

특정 세력과의 외교 행동 UI.

- 현재 관계 표시 (타입, 점수)
- 활성 조약 목록
- 6개 외교 행동 버튼 (조건 미충족 시 비활성)

---

### TurnNotification.tsx — NPC 턴 요약

NPC 세력들의 턴 행동 요약을 표시.

- 세력 아이콘 + 이름 + 요약 텍스트
- 슬라이드인 애니메이션

---

### BattleReport.tsx — 전투 보고서

전투 결과를 극적으로 표시하는 모달.

- 공격/방어 세력 정보
- 투입 장수, 병력
- 피해, 포로, 점령 도시
- 내러티브 텍스트

---

### GameEndScreen.tsx — 승리/패배 화면

게임 종료 시 표시되는 결과 화면.

- 승리/패배 여부 + 이유
- 게임 통계 (턴, 도시, 장수, 자원)
- 새 게임 시작 버튼

---

### 기타 컴포넌트

| 컴포넌트 | 용도 |
|----------|------|
| TaskPanel | 이벤트 태스크 목록 (긴급도, 남은 턴) |
| FactionBanner | 세력 아이콘 + 이름 표시 |
| LoginPanel | 로그인 UI |
| UserBadge | 로그인 사용자 표시 |
| SaveLoadPanel | 5슬롯 저장/로드 모달 |
